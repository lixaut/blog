
### 🏷️ http 状态码分类

- 1XX - 服务器收到请求
- 2XX - 请求成功
- 3XX - 重定向
- 4XX - 客户端错误
- 5XX - 服务端错误

### 🏷️ http 常见状态码

- 200 - 成功
- 301 - 永久重定向
- 302 - 临时重定向
- 304 - 资源未被修改
- 403 - 没权限
- 404 - 资源未找到
- 500 - 服务器错误
- 504 - 网关超时

### 🏷️ 强制缓存

客户端初次请求资源，服务器返回`资源`和`Cache-Control`，Cache-Control 在 Response Headers 中，控制强制缓存的逻辑

Cache-Control 字段的属性值：

- max-age：缓存最大过期时间
- no-cache：可以在客户端存储资源，但每次都需要去服务端做新鲜度校验，来决定是从服务端获取新的资源，还是使用客户端缓存
- no-store：客户端不要存储资源，必须去服务器获取

### 🏷️ 协商缓存

客户端初次请求，服务器返回`资源`和`资源标识符`，资源标识符有两种：

- Last-Modified：资源的最后修改时间
- Etag：资源的唯一标识

👉 Last-Modified

客户端在每次请求的`Request Headers`中携带`if-Modified-Since`字段，用这个时间和服务端资源最后修改时间做对比，如果一致则返回 304，不一致就返回 200 和新的资源及`Last-Modified`

👉 Etag

和以上方法一样的方式，只不过上一个是时间，这一个是计算出来的唯一标识符

两者比较：

- 优先使用 Etag
- Last-modified 只能精确到秒级
- 如果资源被重复生成，而内容不变，则 Etag 更精确

### 🏷️ 三种刷新操作对 http 缓存的影响

- 正常操作（链接跳转，前进后退），不会影响缓存
- 手动刷新，强制缓存失效
- 强制刷新，强制缓存、协商缓存都失效
